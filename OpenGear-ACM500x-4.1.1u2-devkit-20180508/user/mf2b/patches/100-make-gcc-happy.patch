make gcc happy for -Werror=unused-result

http://sourceforge.net/p/mf2b/code/ci/48a4568d0de3bcee69cd7a044a2d69ed09d5ce70/

Index: mf2b-1.1/mf2b.c
===================================================================
--- a/mf2b.c	2014-07-18 12:03:19.699780277 +1000
+++ b/mf2b.c	2014-07-18 12:04:15.935779438 +1000
@@ -209,8 +209,8 @@
 		bufpos = strlen(buf);
 	}
 
-	if (bufpos)
-		asprintf(&desc->backlog, "%s", buf);
+	if (bufpos && (asprintf(&desc->backlog, "%s", buf) == -1))
+		err("%s: out of core writing backlog", __func__);
 	return 0;
 }
 
@@ -346,7 +346,10 @@
 	while (poll(pfd, ndesc, check_interval * 1000) >= 0) {
 		for (i = 0; i < ndesc; i++) {
 			if (pfd[i].revents) {
-				read(pfd[i].fd, &inev, sizeof(inev));
+				if (read(pfd[i].fd, &inev, sizeof(inev)) < sizeof(inev)) {
+					err("short read from inotify fd");
+					continue;
+				}
 				if (inev.mask & IN_MODIFY)
 					read_lines(&desc[i], desc[i].fd);
 				if (inev.mask & ~IN_MODIFY)
Index: mf2b-1.1/tests/unit/logging.c
===================================================================
--- a/tests/unit/logging.c	2014-01-14 13:50:09.000000000 +1000
+++ b/tests/unit/logging.c	2014-07-18 12:04:15.939779186 +1000
@@ -33,7 +33,7 @@
 	set_log_output("unit_test", NULL);
 	fp = fopen("unit_test.log", "r");
 	assert(fp);
-	fgets(buf, 64, fp);
+	assert(fgets(buf, 64, fp));
 	fclose(fp);
 	assert(!strcmp(buf, "log message\n"));
 	unlink("unit_test.log");
