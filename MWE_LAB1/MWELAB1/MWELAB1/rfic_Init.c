/*
 * rfic_Init.c
 *
 * Created: 9/7/2020 1:19:11 PM
 *  Author: BharathVBhatt
 */ 

#include "spi_driver.h"
#include "rfic_Init.h"
#include "uart.h"
static uint8_t initRx_table [5][8] = {
	   {0x00,0x05,0x00,0x29,0x4a,0x52,0x94,0xa5},
	   {0x00,0x06,0x00,0x00,0x00,0x00,0x01,0xe7},
	   {0x00,0x09,0x00,0x00,0x06,0x01,0xb6,0xf6},
       {0x00,0x0a,0x00,0x00,0x6d,0xb6,0xdb,0x41},
	   {0x00,0x0d,0x00,0x00,0x00,0x00,0x08,0x00}
};

static uint8_t initTx_table [5][8] = {
	{0x00,0x05,0x04,0x31,0x8c,0x63,0x18,0xc6},
	{0x00,0x06,0x00,0x00,0x00,0x00,0x01,0x60},
	{0x00,0x09,0x00,0x00,0x06,0x01,0xb6,0xf6},
	{0x00,0x0c,0x00,0x00,0x03,0x69,0x14,0x01},
	{0x00,0x0d,0x00,0x00,0x00,0x00,0x08,0x00}
};

static uint8_t mode_reg[8] ={0x00,0x00,0x00,0x00,0x00,0x02,0x84,0x00};

void serialModeTx_init()
{
	uint8_t index_i;
	uint8_t val=0;
	uint8_t index_j;
	for(index_i=0;index_i<5;index_i++)
	{
		for(index_j=0;index_j<8;index_j++)
		{
			val=spi_readwrite(initTx_table[index_i][index_j]);
		}
	}
	
	
}

void serialModeRx_init()
{
	uint8_t index_i;
	uint8_t index_j;
	for(index_i=0;index_i<5;index_i++)
	{
		for(index_j=0;index_j<8;index_j++)
		{
			spi_readwrite(initRx_table[index_i][index_j]);
		}
	}
}


void serialModeWrite()
{
	uint8_t val=0;
	uint8_t index_i=0;
	for(index_i=0;index_i<8;index_i++)
	{
		 spi_readwrite(mode_reg[index_i]);
		 
	}
}